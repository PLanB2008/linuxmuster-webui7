<div class="modal-header">
    <h4 translate >{{groupName}} Members</h4>
</div>
<!--{{students}}-->

<!--
    {{students}}
    <br>
    {{groupDetails}}
    <br>
    <br>
    {{groupDetails[groupName]}}
    <br>
-->
<br>
<progress-spinner ng:show="students == null"></progress-spinner>
<div style="padding-left: 40px;" ng:show="students != null">
    <div class="input-group">
        <input ng:model="filter" type="search" autofocus class="form-control" placeholder="Filter" typeahead-min-length="1" />

        <div uib-dropdown class="input-group-btn">
            <button class="btn btn-default" uib-dropdown-toggle>
                <i class="fa fa-sort-amount-asc"></i> {{sort.name}}
                <span class="caret"></span>
            </button>
            <ul uib-dropdown-menu class="dropdown-menu-right" style="width:150px">
                <li ng:repeat="sort in sorts">
                    <a ng:click="checkInverse(sort, $parent.sort); $parent.sort = sort">
                        <i class="fa fa-sort-amount-asc"></i> {{sort.name}}
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <br>
    <!-- Class view Students-->
    <div ng-if="sort.id != 'membership'" class="flex-container lmn-container-list-separated">
        <div ng:repeat="class in classes | orderBy:class">
            <h4 style="padding-left: 10px;">{{class}}</h4>
            <div ng:repeat="student in students|filter:filter|filter:isActive|orderBy:[sort.fx]:sortReverse">
                <div ng-if="student.sophomorixAdminClass == class">
                    <span id={{student.sAMAccountName}} checkbox ng:model="student.membership" ng-click='membershipChanged($index, student.sAMAccountName)'></span>
                    <i class="fa fa-user"></i>
                    <a href="#" ng-click='showGroupDetails($index, student.sAMAccountName)'>
                        <!--  <span translate>{{student.sophomorixRole}}</span> -->
                        {{student.givenName}} <b>{{student.sn}}</b>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Class view Teachers-->
    <div ng-if="sort.id != 'membership'" class="flex-container lmn-container-list-separated">
        <div>
            <h4 style="padding-left: 10px;"translate >Teachers</h4>
            <div ng:repeat="teacher in teachers|filter:filter|filter:isActive|orderBy:'Lastname':sortReverse">
                <div>
                    <span id={{teacher.sAMAccountName}} checkbox ng:model="teacher.membership" ng-click='membershipChanged($index, teacher.sAMAccountName)'></span>
                    <i class="fa fa-user"></i>
                    <a href="#" ng-click='showGroupDetails($index, teacher.sAMAccountName)'>
                        {{teacher.givenName}} <b>{{teacher.sn}}</b>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Membership view Students-->
    <div ng-if="sort.id == 'membership'">
        <h4 translate>Member</h4>
        <span style="padding-left: 10px;" translate>Students</span>
        <div class="flex-container lmn-container-list">
            <div ng:repeat="student in students|filter:filter|filter:isActive|orderBy:['-membership','sn']">
                <div ng-if="student.membership == true">
                    <span id={{student.sAMAccountName}} checkbox ng:model="student.membership" ng-click='membershipChanged($index, student.sAMAccountName)'></span>
                    <i class="fa fa-user"></i>
                    <a href="#" ng-click='showGroupDetails($index, student.sAMAccountName)'>
                        {{student.givenName}} <b>{{student.sn}}</b> {{student.sophomorixAdminClass}}
                    </a>
                </div>
            </div>
        </div>
    </div>
    <br>
    <!-- Membership view Teachers-->
    <div ng-if="sort.id == 'membership'">
        <span style="padding-left: 10px;" translate>Teachers </span>
        <div class="flex-container lmn-container-list">
            <div ng:repeat="teacher in teachers|filter:filter|filter:isActive|orderBy:['-membership','sn']">
                <div ng-if="teacher.membership == true">
                    <span id={{teacher.sAMAccountName}} checkbox ng:model="teacher.membership" ng-click='membershipChanged($index, teacher.sAMAccountName)'></span>
                    <i class="fa fa-user"></i>
                    <a href="#" ng-click='showGroupDetails($index, teacher.sAMAccountName)'>
                        {{teacher.givenName}} <b>{{teacher.sn}}</b> {{teacher.sophomorixAdminClass}}
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Membership view not member -->
    <!-- Students -->
    <div ng-if="sort.id == 'membership'">
        <h4 translate>Not Member</h4>
        <span style="padding-left: 10px;" translate>Students</span>
        <div class="flex-container lmn-container-list">
            <div ng:repeat="student in students|filter:filter|filter:isActive|orderBy:['membership','sn']">
                <div ng-if="student.membership == false">
                    <span id={{student.sAMAccountName}} checkbox ng:model="student.membership" ng-click='membershipChanged($index, student.sAMAccountName)'></span>
                    <i class="fa fa-user"></i>
                    <a href="#" ng-click='showGroupDetails($index, student.sAMAccountName)'>
                        {{student.givenName}} <b>{{student.sn}}</b> {{student.sophomorixAdminClass}}
                    </a>
                </div>
            </div>
        </div>
    </div>

    <br>
    <!-- Membership view not member Teacher -->
    <div ng-if="sort.id == 'membership'">
        <span style="padding-left: 10px;" translate>Teachers </span>
        <div class="flex-container lmn-container-list">
            <div ng:repeat="teacher in teachers|filter:filter|filter:isActive|orderBy:['membership','sn']">
                <div ng-if="teacher.membership == false">
                    <span id={{teacher.sAMAccountName}} checkbox ng:model="teacher.membership" ng-click='membershipChanged($index, teacher.sAMAccountName)'></span>
                    <i class="fa fa-user"></i>
                    <a href="#" ng-click='showGroupDetails($index, teacher.sAMAccountName)'>
                        {{teacher.givenName}} <b>{{teacher.sn}}</b> {{teacher.sophomorixAdminClass}}
                    </a>
                </div>
            </div>
        </div>
    </div>

    <br>
    <div class="modal-footer">
        <a class="btn btn-default btn-flat" ng:click="setMembers(students, teachers)" translate>Save</a>
        <a class="btn btn-default btn-flat" ng:click="close()" translate>Close</a>
    </div>

</div>
