<br/>
<div>
    <div class="input-group">
        <input type="text" placeholder="Add new" ng:model="_.addParticipant" typeahead-editable="false" typeahead-min-length="2" uib-typeahead="user as user.sophomorixAdminClass+' '+user.displayName+ ' '+user.sAMAccountName  for user in findUsers($viewValue) | limitTo:10" class="form-control" />

        <oi-select
              oi-options="list.id as list.description for list in lists"
                ng-model="tags"
                  multiple
                    placeholder="Select">
        </oi-select>

        <!-- <input ng:model="filter" type="search" autofocus class="form-control" placeholder="Filter" />-->
        <div uib-dropdown class="input-group-btn">
            <button class="btn btn-default" uib-dropdown-toggle>
                <i class="fa fa-sort-amount-asc"></i> {{sort.name}}
                <span class="caret"></span>
            </button>
            <ul uib-dropdown-menu class="dropdown-menu-right" style="width:150px">
                <li ng:repeat="sort in sorts">
                    <a ng:click="$parent.sort = sort">
                        <i class="fa fa-sort-amount-asc"></i> {{sort.name}}
                    </a>
                </li>
            </ul>
        </div>
        <!--

            <div uib-button class="input-group-btn">
            <button class="btn btn-default" uib-button ng:click="killSession(identity.user, currentSession.name)">
            <span translate>Delete Session</span>
            </button>
            </div>
            <div uib-button class="input-group-btn">
            <button class="btn btn-default" uib-button ng:click="showSessions(identity.user)">
            <span translate>New Session</span>
            </button>
            </div>

        -->
        <div uib-dropdown class="input-group-btn" auto-close="outsideClick">
            <button class="btn btn-default" uib-dropdown-toggle>
                {{'Edit Sessions'|translate}}
                <span class="caret"></span>
            </button>
            <ul uib-dropdown-menu class="dropdown-menu-right" >
                <li>

                    <a ng:click="newSession(identity.user)">
                        {{'New Session'|translate}}
                    </a>
                </li>
                <li>

                    <a ng:click="renameSession(identity.user, currentSession.name, currentSession.comment)" translate>
                        {{'Rename Session'| translate}}
                    </a>
                </li>
                <li>
                    <a ng:click="killSession(identity.user, currentSession.name)" translate>
                        {{'Delete Session'| translate}}
                    </a>
            </ul>
        </div>

        <!-- Sessions dropdown -->
        <div uib-dropdown class="input-group-btn" auto-close="outsideClick" ng:click="getSessions(identity.user)">
            <button class="btn btn-default" uib-dropdown-toggle>
                <i class="fa fa-users"></i> {{'Sessions'|translate}}
                <span class="caret"></span>
            </button>
            <ul uib-dropdown-menu class="dropdown-menu-right" style="width:350px">
                    <li ng:repeat="(id, session) in sessions">
                    <a ng:click="getParticipants(identity.user,id); currentSession.name=id; currentSession.comment=session.COMMENT"><i class="fa fa-list-ol"></i> {{session.COMMENT}} | {{id}}</a>
                </li>


            </ul>
        </div>
    </div>
    <h4 style="display:{{visible.sessionname}}">{{currentSession.name}} | {{currentSession.comment}}</h4>

    <table class="table">
        <tr style="display:{{visible.table}};">
            <th></th> <!--empty checkopox field-->

            <th ng:repeat="(id, field) in fields" ng:if="field.visible">{{field.name}}</th>
            <th></th>
        </tr>
        <tr ng:repeat="(id, participant) in participants">
            <td width="1">
                <span uib-dropdown>
                    <button class="btn btn-default" uib-dropdown-toggle>
                        <i class="fa fa-info-circle"></i>
                    </button>
                    <ul uib-dropdown-menu class="dropdown-menu-right" style="width:150px">
                        <li>
                            <a ng:click="setInitialPassword([teacher])" translate>
                                Initial password
                            </a>
                        </li>
                        <li>
                            <a ng:click="setRandomPassword([teacher])" translate>
                                Random password
                            </a>
                        </li>
                        <li>
                            <a ng:click="setCustomPassword([teacher])" translate>
                                Custom password
                            </a>
                        </li>
                    </ul>
                </span>
            </td>
            <td><input type="text"  ng:model="id" placeholder="givenName"  class="form-control" readonly/></td>
            <td><input type="text"  ng:model="participant.givenName" placeholder="givenName"  class="form-control" readonly/></td>
            <td><input type="text" ng:model-options="{updateOn: 'blur'}" ng:model="participant.sn" placeholder="Last name" class="form-control" readonly/> </td>
            <td><input type="text"  ng:model="participant.sophomorixExamMode" placeholder="exammode"  class="form-control" readonly/></td>
            <td width="1"> <span checkbox ng:model="participant.group_wifiaccess"></span></td>
            <td width="1"><span checkbox ng:model="participant.group_internetaccess" ></span></td>
            <td width="1"> <span checkbox ng:model="participant.group_intranetaccess"></span></td>
            <td width="1"> <span checkbox ng:model="participant.group_webfilter"></span></td>
            <td width="1"> <span checkbox ng:model="participant.group_printing"></span></td>
            <td width="1">
                <span uib-dropdown>
                    <button class="btn btn-default" uib-dropdown-toggle>
                        <i class="fa fa-cog"></i>
                    </button>
                    <ul uib-dropdown-menu class="dropdown-menu-right" style="width:150px">
                        <li>
                            <a ng:click="setInitialPassword([teacher])" translate>
                                Initial password 
                            </a>
                        </li>
                        <li>
                            <a ng:click="setRandomPassword([teacher])" translate>
                                Random password
                            </a>
                        </li>
                        <li>
                            <a ng:click="setCustomPassword([teacher])" translate>
                                Custom password
                            </a>
                        </li>
                    </ul>
                </span>
            </td>
            <td><button class="btn btn-default" ng:click="removeParticipant(id)"> <i class="fa fa-trash"></i></td>

            <!-- <td><input type="text"  ng:model="participant.group_internetaccess" placeholder="internetaccess"  class="form-control" readonly/></td>
                <td><input type="text"  ng:model="participant.group_intranetaccess" placeholder="intranetaccess"  class="form-control" readonly/></td>
                <td><input type="text"  ng:model="participant.group_webfilter" placeholder="webfilter"  class="form-control" readonly/></td>
                <td><input type="text"  ng:model="participant.group_printing" placeholder="printing"  class="form-control" readonly/></td>-->
        </tr>
    </table>

    <div><center><h3>{{info.message}}<h3></center></div>


    <floating-toolbar>
    <button ng:click="saveApply(participants,currentSession.name)" class="btn btn-default btn-flat" translate>Save & apply</button>
    <button ng:click="cancel(identity.user,currentSession.name)" class="btn btn-default btn-flat" translate>Cancel</button>
    </floating-toolbar>


    <!--
        <div class="list-group">
        <a class="list-group-item" ng:repeat="participant in participants">
        <i class="fa fa-asterisk"></i> <span translate>{{participant.givenName}}</span>
        <span translate>{{participant.sn}}</span>
        <span translate>{{participant.group_wifiaccess}}</span>
        <input type="checkbox" ng-model="checkboxModel.value1">
        <br>
        </a>
        </div>
    -->


        <span checkbox ng:model="checkboxModel.value1" ng-true-value="'TRUE'" ng-false-value='FALSE' ></span>
        <span checkbox ng:model="checkboxModel.value2" ng-true-value="'TRUE'" ng-false-value="'FALSE'" ></span>
        <br>
        <!--
        <tt>value1 = {{checkboxModel.value1}}</tt><br/>
        <tt>value2 = {{checkboxModel.value2}}</tt><br/>
        <div>Current sessionname: {{currentSession.name}}</div>
        <div>Current sessionname: {{sessions}}</div>
        -->
        <!--
        <div>Test: {{participants}}</div>

        <br>
        <br>
        Current sessioncomment: {{currentSession.comment}}
        Current sessioncomment: {{currentSession.name}}
        <br/>
        <br>

        <div>Test2: {{participants.frayka}}</div>

        <div>All Sessions Current User{{sessions}}</div>
        <br>
        {{identity}}
        <br>
        {{identity.user}}
        <br>
        <br>
        Current sessionID: {{currentSession.name}}
        Current sessioncomment: {{currentSession.comment}}
        <br/>
        -->
